{% extends 'Vault/base.html' %}
{% load static %}

{% block content %}
    <h1>Uploaded Files</h1>

    {% if files %}
        <ul>
            {% for file in files %}
                <li>
                    <a href="#" data-file-id="{{ file.id }}" class="download-link">{{ file.file.name }}</a> 
                    (Uploaded at: {{ file.uploaded_at|date:"Y-m-d H:i" }})
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No files uploaded yet.</p>
    {% endif %}

    <br>
    <a href="{% url 'home' %}">Upload New File</a>

    <!-- Modal for password -->
    <div id="password-modal" style="display:none;">
        <div>
            <h3>Enter Password to Download File</h3>
            <input type="password" id="file-password" placeholder="Password">
            <button id="submit-password">Submit</button>
        </div>
    </div>

{% endblock %}

{% block extra_js %}
    <script src="{% static 'Vault/js/file_download.js' %}"></script>
{% endblock %}
